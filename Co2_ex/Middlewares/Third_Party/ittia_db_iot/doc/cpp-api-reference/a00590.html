<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ITTIA DB SQL C++ API Reference: storage::ittiadb::Query Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="api-reference.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ITTIA DB SQL C++ API Reference
   &#160;<span id="projectnumber">8.4.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('a00590.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="a00587.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">storage::ittiadb::Query Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Perform an SQL query in the database.  
 <a href="a00590.html#details">More...</a></p>

<p><code>#include &lt;storage/ittiadb/query.h&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:abf15055a46c6704f0cb59db724691612"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00590.html#abf15055a46c6704f0cb59db724691612">Query</a> (<a class="el" href="a00562.html">Connection</a> &amp;connection__, const char *sql__)</td></tr>
<tr class="memdesc:abf15055a46c6704f0cb59db724691612"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a query from an SQL statement in ansi format.  <a href="a00590.html#abf15055a46c6704f0cb59db724691612">More...</a><br /></td></tr>
<tr class="separator:abf15055a46c6704f0cb59db724691612"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5746a767ae9d75d02894908064e01f24"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00590.html#a5746a767ae9d75d02894908064e01f24">Query</a> (<a class="el" href="a00562.html">Connection</a> &amp;connection__, const <a class="elRef" href="../c-api-reference/a00345.html#ga24e533815511e25c9e98518190459ade">db_utf8_t</a> *sql__)</td></tr>
<tr class="memdesc:a5746a767ae9d75d02894908064e01f24"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a query from an SQL statement in utf8 format.  <a href="a00590.html#a5746a767ae9d75d02894908064e01f24">More...</a><br /></td></tr>
<tr class="separator:a5746a767ae9d75d02894908064e01f24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afceeadb1d1ec4ae2cb1d0d17c51054a5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00590.html#afceeadb1d1ec4ae2cb1d0d17c51054a5">Query</a> (<a class="el" href="a00562.html">Connection</a> &amp;connection__, const <a class="elRef" href="../c-api-reference/a00345.html#gadb66814a3fbea06540199a13f10adc7e">db_utf16_t</a> *sql__)</td></tr>
<tr class="memdesc:afceeadb1d1ec4ae2cb1d0d17c51054a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a query from an SQL statement in utf16 format.  <a href="a00590.html#afceeadb1d1ec4ae2cb1d0d17c51054a5">More...</a><br /></td></tr>
<tr class="separator:afceeadb1d1ec4ae2cb1d0d17c51054a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac02cc2877f91343a1ce6a8bb712d36d5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00590.html#ac02cc2877f91343a1ce6a8bb712d36d5">Query</a> (<a class="el" href="a00562.html">Connection</a> &amp;connection__, const <a class="elRef" href="../c-api-reference/a00345.html#ga1324eb6f8290c739d11fe509adeb8660">db_utf32_t</a> *sql__)</td></tr>
<tr class="memdesc:ac02cc2877f91343a1ce6a8bb712d36d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a query from an SQL statement in utf32 format.  <a href="a00590.html#ac02cc2877f91343a1ce6a8bb712d36d5">More...</a><br /></td></tr>
<tr class="separator:ac02cc2877f91343a1ce6a8bb712d36d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d4eafdf5dbc3649a377e8f94e3210ed"><td class="memItemLeft" align="right" valign="top"><a id="a5d4eafdf5dbc3649a377e8f94e3210ed"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00590.html#a5d4eafdf5dbc3649a377e8f94e3210ed">~Query</a> ()</td></tr>
<tr class="memdesc:a5d4eafdf5dbc3649a377e8f94e3210ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor. <br /></td></tr>
<tr class="separator:a5d4eafdf5dbc3649a377e8f94e3210ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4f5b634b51b7bdc6df24dc838486c7f"><td class="memItemLeft" align="right" valign="top"><a class="elRef" href="../c-api-reference/a00365.html#gad5ef2fb2484082c162102d091d192f15">db_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00590.html#ab4f5b634b51b7bdc6df24dc838486c7f">prepare</a> ()</td></tr>
<tr class="memdesc:ab4f5b634b51b7bdc6df24dc838486c7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare the SQL query.  <a href="a00590.html#ab4f5b634b51b7bdc6df24dc838486c7f">More...</a><br /></td></tr>
<tr class="separator:ab4f5b634b51b7bdc6df24dc838486c7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a686e5d9c6a548ead5c63d980b13cdcf4"><td class="memItemLeft" align="right" valign="top"><a class="elRef" href="../c-api-reference/a00365.html#gad5ef2fb2484082c162102d091d192f15">db_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00590.html#a686e5d9c6a548ead5c63d980b13cdcf4">close</a> ()</td></tr>
<tr class="memdesc:a686e5d9c6a548ead5c63d980b13cdcf4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close a cursor.  <a href="a00590.html#a686e5d9c6a548ead5c63d980b13cdcf4">More...</a><br /></td></tr>
<tr class="separator:a686e5d9c6a548ead5c63d980b13cdcf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c628f12a0bbbccdc18b280ecf6626b7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00590.html#a8c628f12a0bbbccdc18b280ecf6626b7">prepared</a> () const</td></tr>
<tr class="memdesc:a8c628f12a0bbbccdc18b280ecf6626b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the query is prepared.  <a href="a00590.html#a8c628f12a0bbbccdc18b280ecf6626b7">More...</a><br /></td></tr>
<tr class="separator:a8c628f12a0bbbccdc18b280ecf6626b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a122b871a6fd6c6591ca0a7c393dc0e20"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00590.html#a122b871a6fd6c6591ca0a7c393dc0e20">has_result_set</a> () const</td></tr>
<tr class="memdesc:a122b871a6fd6c6591ca0a7c393dc0e20"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the query has a result set.  <a href="a00590.html#a122b871a6fd6c6591ca0a7c393dc0e20">More...</a><br /></td></tr>
<tr class="separator:a122b871a6fd6c6591ca0a7c393dc0e20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae11e151c92c0f513547df235896c1ec7"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="a00542.html">data::RowDefinition</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00590.html#ae11e151c92c0f513547df235896c1ec7">columns</a> () const</td></tr>
<tr class="memdesc:ae11e151c92c0f513547df235896c1ec7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Definition of query columns. Result is empty if the query does not produce a result set.  <a href="a00590.html#ae11e151c92c0f513547df235896c1ec7">More...</a><br /></td></tr>
<tr class="separator:ae11e151c92c0f513547df235896c1ec7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8336ec4f0cba0668a692eafcee693749"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="a00542.html">data::RowDefinition</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00590.html#a8336ec4f0cba0668a692eafcee693749">parameters</a> () const</td></tr>
<tr class="memdesc:a8336ec4f0cba0668a692eafcee693749"><td class="mdescLeft">&#160;</td><td class="mdescRight">Definition of query parameters. Result is empty if the query does not require any parameters.  <a href="a00590.html#a8336ec4f0cba0668a692eafcee693749">More...</a><br /></td></tr>
<tr class="separator:a8336ec4f0cba0668a692eafcee693749"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a897f63155b8e378becffadb670b3510d"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00590.html#a897f63155b8e378becffadb670b3510d">execute</a> ()</td></tr>
<tr class="memdesc:a897f63155b8e378becffadb670b3510d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute a non-select query and return the number of rows modified.  <a href="a00590.html#a897f63155b8e378becffadb670b3510d">More...</a><br /></td></tr>
<tr class="separator:a897f63155b8e378becffadb670b3510d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff896b7827575e1ea3bc77d39a483696"><td class="memItemLeft" align="right" valign="top"><a class="elRef" href="../c-api-reference/a00365.html#gad5ef2fb2484082c162102d091d192f15">db_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00590.html#aff896b7827575e1ea3bc77d39a483696">execute</a> (int64_t &amp;rows_modified)</td></tr>
<tr class="memdesc:aff896b7827575e1ea3bc77d39a483696"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute a non-select query.  <a href="a00590.html#aff896b7827575e1ea3bc77d39a483696">More...</a><br /></td></tr>
<tr class="separator:aff896b7827575e1ea3bc77d39a483696"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7b3540a82787f2a96ca44bedfa7856c"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00590.html#af7b3540a82787f2a96ca44bedfa7856c">execute_with</a> (const <a class="el" href="a00534.html">data::Row</a> &amp;parameter_values)</td></tr>
<tr class="memdesc:af7b3540a82787f2a96ca44bedfa7856c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute a non-select query and return the number of rows modified.  <a href="a00590.html#af7b3540a82787f2a96ca44bedfa7856c">More...</a><br /></td></tr>
<tr class="separator:af7b3540a82787f2a96ca44bedfa7856c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40b3ad5402167a95fd688c8ca3e8bea7"><td class="memItemLeft" align="right" valign="top"><a class="elRef" href="../c-api-reference/a00365.html#gad5ef2fb2484082c162102d091d192f15">db_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00590.html#a40b3ad5402167a95fd688c8ca3e8bea7">execute_with</a> (const <a class="el" href="a00534.html">data::Row</a> &amp;parameter_values, int64_t &amp;rows_modified)</td></tr>
<tr class="memdesc:a40b3ad5402167a95fd688c8ca3e8bea7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute a non-select query.  <a href="a00590.html#a40b3ad5402167a95fd688c8ca3e8bea7">More...</a><br /></td></tr>
<tr class="separator:a40b3ad5402167a95fd688c8ca3e8bea7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae80923eea3949ac6d8ec03f608935f41"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:ae80923eea3949ac6d8ec03f608935f41"><td class="memTemplItemLeft" align="right" valign="top"><a class="elRef" href="../c-api-reference/a00365.html#gad5ef2fb2484082c162102d091d192f15">db_result_t</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="a00590.html#ae80923eea3949ac6d8ec03f608935f41">execute</a> (T &amp;destination)</td></tr>
<tr class="memdesc:ae80923eea3949ac6d8ec03f608935f41"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute a select query.  <a href="a00590.html#ae80923eea3949ac6d8ec03f608935f41">More...</a><br /></td></tr>
<tr class="separator:ae80923eea3949ac6d8ec03f608935f41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04aa8d04da787f21bccfd3477bf78eb8"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a04aa8d04da787f21bccfd3477bf78eb8"><td class="memTemplItemLeft" align="right" valign="top"><a class="elRef" href="../c-api-reference/a00365.html#gad5ef2fb2484082c162102d091d192f15">db_result_t</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="a00590.html#a04aa8d04da787f21bccfd3477bf78eb8">execute</a> (T &amp;destination, int64_t &amp;rows_modified)</td></tr>
<tr class="memdesc:a04aa8d04da787f21bccfd3477bf78eb8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute any type of query.  <a href="a00590.html#a04aa8d04da787f21bccfd3477bf78eb8">More...</a><br /></td></tr>
<tr class="separator:a04aa8d04da787f21bccfd3477bf78eb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6afc8a45be7e35762507299cc03bc958"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a6afc8a45be7e35762507299cc03bc958"><td class="memTemplItemLeft" align="right" valign="top"><a class="elRef" href="../c-api-reference/a00365.html#gad5ef2fb2484082c162102d091d192f15">db_result_t</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="a00590.html#a6afc8a45be7e35762507299cc03bc958">execute_with</a> (const <a class="el" href="a00534.html">data::Row</a> &amp;parameter_values, T &amp;destination)</td></tr>
<tr class="memdesc:a6afc8a45be7e35762507299cc03bc958"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute a select query.  <a href="a00590.html#a6afc8a45be7e35762507299cc03bc958">More...</a><br /></td></tr>
<tr class="separator:a6afc8a45be7e35762507299cc03bc958"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6182fa2c5d22ed6ebeccc22c5b56000c"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a6182fa2c5d22ed6ebeccc22c5b56000c"><td class="memTemplItemLeft" align="right" valign="top"><a class="elRef" href="../c-api-reference/a00365.html#gad5ef2fb2484082c162102d091d192f15">db_result_t</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="a00590.html#a6182fa2c5d22ed6ebeccc22c5b56000c">execute_with</a> (const <a class="el" href="a00534.html">data::Row</a> &amp;parameter_values, T &amp;destination, int64_t &amp;rows_modified)</td></tr>
<tr class="memdesc:a6182fa2c5d22ed6ebeccc22c5b56000c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute any type of query.  <a href="a00590.html#a6182fa2c5d22ed6ebeccc22c5b56000c">More...</a><br /></td></tr>
<tr class="separator:a6182fa2c5d22ed6ebeccc22c5b56000c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b67d3e22105ea6df364006cae10dc54"><td class="memItemLeft" align="right" valign="top"><a class="elRef" href="../c-api-reference/a00365.html#gad5ef2fb2484082c162102d091d192f15">db_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00590.html#a3b67d3e22105ea6df364006cae10dc54">get_info</a> (<a class="elRef" href="../c-api-reference/a00586.html">db_cursor_info_t</a> &amp;cursor_info) const</td></tr>
<tr class="memdesc:a3b67d3e22105ea6df364006cae10dc54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get information about the query.  <a href="a00590.html#a3b67d3e22105ea6df364006cae10dc54">More...</a><br /></td></tr>
<tr class="separator:a3b67d3e22105ea6df364006cae10dc54"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Perform an SQL query in the database. </p>
<p>The SQL interface provides access to the database through an SQL query. A cursor is used to navigate the results of the query, which can contain data from one or more tables. To create a cursor from an SQL statement,call <a class="el" href="a00590.html#ab4f5b634b51b7bdc6df24dc838486c7f" title="Prepare the SQL query.">prepare()</a> and then <a class="el" href="a00590.html#a897f63155b8e378becffadb670b3510d" title="Execute a non-select query and return the number of rows modified.">execute()</a>. After a cursor is executed, it can be navigated with the standard cursor access functions. SQL support is only available in ITTIA DB SQL Standard and cannot be accessed in ITTIA DB Compact. </p><div class="fragment"><div class="line">{</div>
<div class="line"> <a class="code" href="a00590.html">storage::ittiadb::Query</a> query(db,</div>
<div class="line">   <span class="stringliteral">&quot;create table phone(&quot;</span></div>
<div class="line">   <span class="stringliteral">&quot;  number varchar(32),&quot;</span></div>
<div class="line">   <span class="stringliteral">&quot;  contact_id integer references contact(id),&quot;</span></div>
<div class="line">   <span class="stringliteral">&quot;  primary key (contact_id, number)&quot;</span></div>
<div class="line">   <span class="stringliteral">&quot;)&quot;</span>);</div>
<div class="line"> <span class="comment">// Prepare the query</span></div>
<div class="line"> rc = query.prepare();</div>
<div class="line"> <span class="keywordflow">if</span> (rc &lt; 0) {</div>
<div class="line">   std::cout &lt;&lt; <a class="code" href="a00506.html#a5e69821d22e92018fdc06905263d5dec">storage::data::Environment::error</a>() &lt;&lt; std::endl;</div>
<div class="line">   <span class="keywordflow">return</span> 1;</div>
<div class="line">   }</div>
<div class="line"> <span class="comment">// Execute the query</span></div>
<div class="line"> rc = query.execute();</div>
<div class="line"> </div>
<div class="line"> <span class="comment">// Some functions return a useful value or -1 for failure.</span></div>
<div class="line"> <span class="keywordflow">if</span> (rc &lt; 0) {</div>
<div class="line">   std::cout &lt;&lt; <a class="code" href="a00506.html#a5e69821d22e92018fdc06905263d5dec">storage::data::Environment::error</a>() &lt;&lt; std::endl;</div>
<div class="line">   <span class="keywordflow">return</span> 1;</div>
<div class="line">   }</div>
<div class="line">}</div>
<div class="ttc" id="aa00506_html_a5e69821d22e92018fdc06905263d5dec"><div class="ttname"><a href="a00506.html#a5e69821d22e92018fdc06905263d5dec">storage::data::Environment::error</a></div><div class="ttdeci">static const Error error()</div><div class="ttdoc">Get and clear the last error in the current thread.</div><div class="ttdef"><b>Definition:</b> environment.h:650</div></div>
<div class="ttc" id="aa00590_html"><div class="ttname"><a href="a00590.html">storage::ittiadb::Query</a></div><div class="ttdoc">Perform an SQL query in the database.</div><div class="ttdef"><b>Definition:</b> query.h:70</div></div>
</div><!-- fragment --> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="abf15055a46c6704f0cb59db724691612"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf15055a46c6704f0cb59db724691612">&#9670;&nbsp;</a></span>Query() <span class="overload">[1/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">storage::ittiadb::Query::Query </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00562.html">Connection</a> &amp;&#160;</td>
          <td class="paramname"><em>connection__</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>sql__</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a query from an SQL statement in ansi format. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connection__</td><td>A <a class="el" href="a00562.html" title="A database Connection class.">Connection</a> to database </td></tr>
    <tr><td class="paramname">sql__</td><td>SQL query statement </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5746a767ae9d75d02894908064e01f24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5746a767ae9d75d02894908064e01f24">&#9670;&nbsp;</a></span>Query() <span class="overload">[2/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">storage::ittiadb::Query::Query </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00562.html">Connection</a> &amp;&#160;</td>
          <td class="paramname"><em>connection__</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" href="../c-api-reference/a00345.html#ga24e533815511e25c9e98518190459ade">db_utf8_t</a> *&#160;</td>
          <td class="paramname"><em>sql__</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a query from an SQL statement in utf8 format. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connection__</td><td>A <a class="el" href="a00562.html" title="A database Connection class.">Connection</a> to database </td></tr>
    <tr><td class="paramname">sql__</td><td>SQL query statement </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="afceeadb1d1ec4ae2cb1d0d17c51054a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afceeadb1d1ec4ae2cb1d0d17c51054a5">&#9670;&nbsp;</a></span>Query() <span class="overload">[3/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">storage::ittiadb::Query::Query </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00562.html">Connection</a> &amp;&#160;</td>
          <td class="paramname"><em>connection__</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" href="../c-api-reference/a00345.html#gadb66814a3fbea06540199a13f10adc7e">db_utf16_t</a> *&#160;</td>
          <td class="paramname"><em>sql__</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a query from an SQL statement in utf16 format. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connection__</td><td>A <a class="el" href="a00562.html" title="A database Connection class.">Connection</a> to database </td></tr>
    <tr><td class="paramname">sql__</td><td>SQL query statement </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac02cc2877f91343a1ce6a8bb712d36d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac02cc2877f91343a1ce6a8bb712d36d5">&#9670;&nbsp;</a></span>Query() <span class="overload">[4/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">storage::ittiadb::Query::Query </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00562.html">Connection</a> &amp;&#160;</td>
          <td class="paramname"><em>connection__</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" href="../c-api-reference/a00345.html#ga1324eb6f8290c739d11fe509adeb8660">db_utf32_t</a> *&#160;</td>
          <td class="paramname"><em>sql__</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a query from an SQL statement in utf32 format. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connection__</td><td>A <a class="el" href="a00562.html" title="A database Connection class.">Connection</a> to database </td></tr>
    <tr><td class="paramname">sql__</td><td>SQL query statement </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ab4f5b634b51b7bdc6df24dc838486c7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4f5b634b51b7bdc6df24dc838486c7f">&#9670;&nbsp;</a></span>prepare()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" href="../c-api-reference/a00365.html#gad5ef2fb2484082c162102d091d192f15">db_result_t</a> storage::ittiadb::Query::prepare </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prepare the SQL query. </p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li><a class="elRef" href="../c-api-reference/a00365.html#gab7352150a9738cc0038615a468abd0e0">DB_OK</a> When successful</li>
<li><a class="elRef" href="../c-api-reference/a00365.html#gad369675948e5476d0572af3f0f1308cb">DB_FAIL</a> On failure</li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function does not start or require a transaction, but can be used safely within a transaction. </dd></dl>

</div>
</div>
<a id="a686e5d9c6a548ead5c63d980b13cdcf4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a686e5d9c6a548ead5c63d980b13cdcf4">&#9670;&nbsp;</a></span>close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" href="../c-api-reference/a00365.html#gad5ef2fb2484082c162102d091d192f15">db_result_t</a> storage::ittiadb::Query::close </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close a cursor. </p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li><a class="elRef" href="../c-api-reference/a00365.html#gab7352150a9738cc0038615a468abd0e0">DB_OK</a> when successful.</li>
<li><p class="startli"><a class="elRef" href="../c-api-reference/a00365.html#gad369675948e5476d0572af3f0f1308cb">DB_FAIL</a> on failure.</p>
<p class="startli">On failure, one of the following error codes is set:</p><ul>
<li><a class="elRef" href="../c-api-reference/a00365.html#ga63227b4da0b860d0b764ac29839c5737">DB_EINVAL</a> Invalid cursor handle. </li>
</ul>
</li>
</ul>
</dd></dl>

</div>
</div>
<a id="a8c628f12a0bbbccdc18b280ecf6626b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c628f12a0bbbccdc18b280ecf6626b7">&#9670;&nbsp;</a></span>prepared()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool storage::ittiadb::Query::prepared </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if the query is prepared. </p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li><code>true</code> if <a class="el" href="a00590.html" title="Perform an SQL query in the database.">Query</a> is prepared</li>
<li><code>false</code> if <a class="el" href="a00590.html" title="Perform an SQL query in the database.">Query</a> is not prepared </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a122b871a6fd6c6591ca0a7c393dc0e20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a122b871a6fd6c6591ca0a7c393dc0e20">&#9670;&nbsp;</a></span>has_result_set()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool storage::ittiadb::Query::has_result_set </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if the query has a result set. </p>
<dl class="section pre"><dt>Precondition</dt><dd>query is prepared </dd></dl>

</div>
</div>
<a id="ae11e151c92c0f513547df235896c1ec7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae11e151c92c0f513547df235896c1ec7">&#9670;&nbsp;</a></span>columns()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="a00542.html">data::RowDefinition</a> &amp; storage::ittiadb::Query::columns </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition of query columns. Result is empty if the query does not produce a result set. </p>
<dl class="section return"><dt>Returns</dt><dd>Row definition </dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>query is prepared. </dd></dl>

</div>
</div>
<a id="a8336ec4f0cba0668a692eafcee693749"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8336ec4f0cba0668a692eafcee693749">&#9670;&nbsp;</a></span>parameters()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="a00542.html">data::RowDefinition</a> &amp; storage::ittiadb::Query::parameters </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition of query parameters. Result is empty if the query does not require any parameters. </p>
<dl class="section return"><dt>Returns</dt><dd>Row definition </dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>query is prepared. </dd></dl>

</div>
</div>
<a id="a897f63155b8e378becffadb670b3510d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a897f63155b8e378becffadb670b3510d">&#9670;&nbsp;</a></span>execute() <span class="overload">[1/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int64_t storage::ittiadb::Query::execute </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Execute a non-select query and return the number of rows modified. </p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>a non-negative integer when the query is successful.</li>
<li>-1 on failure.</li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function may alter the transaction state. </dd></dl>
<dl class="section invariant"><dt>Invariant</dt><dd>The result of <a class="el" href="a00590.html#a8c628f12a0bbbccdc18b280ecf6626b7" title="Check if the query is prepared.">prepared()</a> is invariant. </dd></dl>

</div>
</div>
<a id="aff896b7827575e1ea3bc77d39a483696"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff896b7827575e1ea3bc77d39a483696">&#9670;&nbsp;</a></span>execute() <span class="overload">[2/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" href="../c-api-reference/a00365.html#gad5ef2fb2484082c162102d091d192f15">db_result_t</a> storage::ittiadb::Query::execute </td>
          <td>(</td>
          <td class="paramtype">int64_t &amp;&#160;</td>
          <td class="paramname"><em>rows_modified</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Execute a non-select query. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">rows_modified</td><td>Set to the number of rows modified by the query, or -1 if the statement is not DML. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li><a class="elRef" href="../c-api-reference/a00365.html#gab7352150a9738cc0038615a468abd0e0">DB_OK</a> when successful.</li>
<li><a class="elRef" href="../c-api-reference/a00365.html#gad369675948e5476d0572af3f0f1308cb">DB_FAIL</a> on failure.</li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function may alter the transaction state. </dd></dl>
<dl class="section invariant"><dt>Invariant</dt><dd>The result of <a class="el" href="a00590.html#a8c628f12a0bbbccdc18b280ecf6626b7" title="Check if the query is prepared.">prepared()</a> is invariant. </dd></dl>

</div>
</div>
<a id="af7b3540a82787f2a96ca44bedfa7856c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7b3540a82787f2a96ca44bedfa7856c">&#9670;&nbsp;</a></span>execute_with() <span class="overload">[1/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int64_t storage::ittiadb::Query::execute_with </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00534.html">data::Row</a> &amp;&#160;</td>
          <td class="paramname"><em>parameter_values</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Execute a non-select query and return the number of rows modified. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parameter_values</td><td>Placeholders in the query are replaced by the values in <em>parameter_values</em>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>a non-negative integer when the query is successful.</li>
<li>-1 on failure.</li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function may alter the transaction state. </dd></dl>
<dl class="section invariant"><dt>Invariant</dt><dd>The result of <a class="el" href="a00590.html#a8c628f12a0bbbccdc18b280ecf6626b7" title="Check if the query is prepared.">prepared()</a> is invariant. </dd></dl>

</div>
</div>
<a id="a40b3ad5402167a95fd688c8ca3e8bea7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40b3ad5402167a95fd688c8ca3e8bea7">&#9670;&nbsp;</a></span>execute_with() <span class="overload">[2/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" href="../c-api-reference/a00365.html#gad5ef2fb2484082c162102d091d192f15">db_result_t</a> storage::ittiadb::Query::execute_with </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00534.html">data::Row</a> &amp;&#160;</td>
          <td class="paramname"><em>parameter_values</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t &amp;&#160;</td>
          <td class="paramname"><em>rows_modified</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Execute a non-select query. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">parameter_values</td><td>Placeholders in the query are replaced by the values in <em>parameter_values</em>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">rows_modified</td><td>Set to the number of rows modified by the query, or -1 if the statement is not DML. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li><a class="elRef" href="../c-api-reference/a00365.html#gab7352150a9738cc0038615a468abd0e0">DB_OK</a> when successful.</li>
<li><a class="elRef" href="../c-api-reference/a00365.html#gad369675948e5476d0572af3f0f1308cb">DB_FAIL</a> on failure.</li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function may alter the transaction state. </dd></dl>
<dl class="section invariant"><dt>Invariant</dt><dd>The result of <a class="el" href="a00590.html#a8c628f12a0bbbccdc18b280ecf6626b7" title="Check if the query is prepared.">prepared()</a> is invariant. </dd></dl>

</div>
</div>
<a id="ae80923eea3949ac6d8ec03f608935f41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae80923eea3949ac6d8ec03f608935f41">&#9670;&nbsp;</a></span>execute() <span class="overload">[3/4]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" href="../c-api-reference/a00365.html#gad5ef2fb2484082c162102d091d192f15">db_result_t</a> storage::ittiadb::Query::execute </td>
          <td>(</td>
          <td class="paramtype">T &amp;&#160;</td>
          <td class="paramname"><em>destination</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Execute a select query. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">destination</td><td>A RowSet, SingleRow, or SingleField into which the result set will be fetched. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li><a class="elRef" href="../c-api-reference/a00365.html#gab7352150a9738cc0038615a468abd0e0">DB_OK</a> when successful.</li>
<li><a class="elRef" href="../c-api-reference/a00365.html#gad369675948e5476d0572af3f0f1308cb">DB_FAIL</a> on failure.</li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function may alter the transaction state. </dd></dl>
<dl class="section invariant"><dt>Invariant</dt><dd>The result of <a class="el" href="a00590.html#a8c628f12a0bbbccdc18b280ecf6626b7" title="Check if the query is prepared.">prepared()</a> is invariant. </dd></dl>

</div>
</div>
<a id="a04aa8d04da787f21bccfd3477bf78eb8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04aa8d04da787f21bccfd3477bf78eb8">&#9670;&nbsp;</a></span>execute() <span class="overload">[4/4]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" href="../c-api-reference/a00365.html#gad5ef2fb2484082c162102d091d192f15">db_result_t</a> storage::ittiadb::Query::execute </td>
          <td>(</td>
          <td class="paramtype">T &amp;&#160;</td>
          <td class="paramname"><em>destination</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t &amp;&#160;</td>
          <td class="paramname"><em>rows_modified</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Execute any type of query. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">destination</td><td>A RowSet, SingleRow, or SingleField into which the result set will be fetched if the statement is a select query. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">rows_modified</td><td>Set to the number of rows modified by the query, or -1 if the statement is not DML. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li><a class="elRef" href="../c-api-reference/a00365.html#gab7352150a9738cc0038615a468abd0e0">DB_OK</a> when successful.</li>
<li><a class="elRef" href="../c-api-reference/a00365.html#gad369675948e5476d0572af3f0f1308cb">DB_FAIL</a> on failure.</li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function may alter the transaction state. </dd></dl>
<dl class="section invariant"><dt>Invariant</dt><dd>The result of <a class="el" href="a00590.html#a8c628f12a0bbbccdc18b280ecf6626b7" title="Check if the query is prepared.">prepared()</a> is invariant. </dd></dl>

</div>
</div>
<a id="a6afc8a45be7e35762507299cc03bc958"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6afc8a45be7e35762507299cc03bc958">&#9670;&nbsp;</a></span>execute_with() <span class="overload">[3/4]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" href="../c-api-reference/a00365.html#gad5ef2fb2484082c162102d091d192f15">db_result_t</a> storage::ittiadb::Query::execute_with </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00534.html">data::Row</a> &amp;&#160;</td>
          <td class="paramname"><em>parameter_values</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T &amp;&#160;</td>
          <td class="paramname"><em>destination</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Execute a select query. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">parameter_values</td><td>Placeholders in the query are replaced by the values in <em>parameter_values</em>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">destination</td><td>A RowSet, SingleRow, or SingleField into which the result set will be fetched. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li><a class="elRef" href="../c-api-reference/a00365.html#gab7352150a9738cc0038615a468abd0e0">DB_OK</a> when successful.</li>
<li><a class="elRef" href="../c-api-reference/a00365.html#gad369675948e5476d0572af3f0f1308cb">DB_FAIL</a> on failure.</li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function may alter the transaction state. </dd></dl>
<dl class="section invariant"><dt>Invariant</dt><dd>The result of <a class="el" href="a00590.html#a8c628f12a0bbbccdc18b280ecf6626b7" title="Check if the query is prepared.">prepared()</a> is invariant. </dd></dl>

</div>
</div>
<a id="a6182fa2c5d22ed6ebeccc22c5b56000c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6182fa2c5d22ed6ebeccc22c5b56000c">&#9670;&nbsp;</a></span>execute_with() <span class="overload">[4/4]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" href="../c-api-reference/a00365.html#gad5ef2fb2484082c162102d091d192f15">db_result_t</a> storage::ittiadb::Query::execute_with </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00534.html">data::Row</a> &amp;&#160;</td>
          <td class="paramname"><em>parameter_values</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T &amp;&#160;</td>
          <td class="paramname"><em>destination</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t &amp;&#160;</td>
          <td class="paramname"><em>rows_modified</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Execute any type of query. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">parameter_values</td><td>Placeholders in the query are replaced by the values in <em>parameter_values</em>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">destination</td><td>A RowSet, SingleRow, or SingleField into which the result set will be fetched if the statement is a select query. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">rows_modified</td><td>Set to the number of rows modified by the query, or -1 if the statement is not DML. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li><a class="elRef" href="../c-api-reference/a00365.html#gab7352150a9738cc0038615a468abd0e0">DB_OK</a> when successful.</li>
<li><a class="elRef" href="../c-api-reference/a00365.html#gad369675948e5476d0572af3f0f1308cb">DB_FAIL</a> on failure.</li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function may alter the transaction state. </dd></dl>
<dl class="section invariant"><dt>Invariant</dt><dd>The result of <a class="el" href="a00590.html#a8c628f12a0bbbccdc18b280ecf6626b7" title="Check if the query is prepared.">prepared()</a> is invariant. </dd></dl>

</div>
</div>
<a id="a3b67d3e22105ea6df364006cae10dc54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b67d3e22105ea6df364006cae10dc54">&#9670;&nbsp;</a></span>get_info()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" href="../c-api-reference/a00365.html#gad5ef2fb2484082c162102d091d192f15">db_result_t</a> storage::ittiadb::Query::get_info </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" href="../c-api-reference/a00586.html">db_cursor_info_t</a> &amp;&#160;</td>
          <td class="paramname"><em>cursor_info</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get information about the query. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">cursor_info</td><td>Destination for query information.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>query is prepared. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.15-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>storage</b></li><li class="navelem"><b>ittiadb</b></li><li class="navelem"><a class="el" href="a00590.html">Query</a></li>
    <li class="footer">Copyright &copy; 2005-2020 ITTIA&trade;. All rights reserved.</li>
  </ul>
</div>
</body>
</html>
