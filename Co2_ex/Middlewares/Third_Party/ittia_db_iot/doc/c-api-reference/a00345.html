<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ITTIA DB IoT C API Reference: Time Series</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="api-reference.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ITTIA DB IoT C API Reference
   &#160;<span id="projectnumber">8.4.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('a00345.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Time Series<div class="ingroups"><a class="el" href="a00340.html">C API</a> &raquo; <a class="el" href="a00344.html">Data Types</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>ITTIA DB provides a timestamp data type for annotating time dependent values or sensor readings to create a time series data type.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gad1bc3a6fd11da32b7c19625b10727036"><td class="memItemLeft" align="right" valign="top"><a id="gad1bc3a6fd11da32b7c19625b10727036"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>DB_QUERY_OLDEST_TO_NEWEST</b>&#160;&#160;&#160;0x00000000u</td></tr>
<tr class="separator:gad1bc3a6fd11da32b7c19625b10727036"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8f1ae82fe98d9169951e0d257edfe250"><td class="memItemLeft" align="right" valign="top"><a id="ga8f1ae82fe98d9169951e0d257edfe250"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>DB_QUERY_NEWEST_TO_OLDEST</b>&#160;&#160;&#160;0x00000001u</td></tr>
<tr class="separator:ga8f1ae82fe98d9169951e0d257edfe250"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gac3c6d3e764716ca7054301040998e306"><td class="memItemLeft" align="right" valign="top">typedef struct db_time_series_t_s *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00345.html#gac3c6d3e764716ca7054301040998e306">db_time_series_t</a></td></tr>
<tr class="memdesc:gac3c6d3e764716ca7054301040998e306"><td class="mdescLeft">&#160;</td><td class="mdescRight">Time series handle.  <a href="a00345.html#gac3c6d3e764716ca7054301040998e306">More...</a><br /></td></tr>
<tr class="separator:gac3c6d3e764716ca7054301040998e306"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad485c55a1d69e991ec6292c650158e56"><td class="memItemLeft" align="right" valign="top">typedef struct db_time_series_query_t_s *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00345.html#gad485c55a1d69e991ec6292c650158e56">db_time_series_query_t</a></td></tr>
<tr class="memdesc:gad485c55a1d69e991ec6292c650158e56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Time series query handle.  <a href="a00345.html#gad485c55a1d69e991ec6292c650158e56">More...</a><br /></td></tr>
<tr class="separator:gad485c55a1d69e991ec6292c650158e56"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gab6ab92bf4adeee7d7067f92e0eda6f87"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00358.html#ga60c62c1f54e8feef2bf7f6d5d17978c1">dbstatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00345.html#gab6ab92bf4adeee7d7067f92e0eda6f87">db_set_max_timestamps</a> (<a class="el" href="a00341.html#gaa4076d7d43ef1915336e6b43044ce8a5">db_t</a> handle, int32_t max_count, int32_t pages_per_remove)</td></tr>
<tr class="memdesc:gab6ab92bf4adeee7d7067f92e0eda6f87"><td class="mdescLeft">&#160;</td><td class="mdescRight">db_set_max_timestamps defines the maxmimum number of timestamps to store before ingesting into storage.  <a href="a00345.html#gab6ab92bf4adeee7d7067f92e0eda6f87">More...</a><br /></td></tr>
<tr class="separator:gab6ab92bf4adeee7d7067f92e0eda6f87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga24fd766f242b3953239cc208ab7c75ba"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00358.html#ga60c62c1f54e8feef2bf7f6d5d17978c1">dbstatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00345.html#ga24fd766f242b3953239cc208ab7c75ba">db_set_time_series_data_retention</a> (<a class="el" href="a00341.html#gaa4076d7d43ef1915336e6b43044ce8a5">db_t</a> handle, int64_t retain_data_bytes, int64_t max_data_bytes)</td></tr>
<tr class="memdesc:ga24fd766f242b3953239cc208ab7c75ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set data retention policy for time series data.  <a href="a00345.html#ga24fd766f242b3953239cc208ab7c75ba">More...</a><br /></td></tr>
<tr class="separator:ga24fd766f242b3953239cc208ab7c75ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8a5c02de28969593c010394266be8c1c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00345.html#ga8a5c02de28969593c010394266be8c1c">db_timestamp_to_usec</a> (<a class="el" href="a00038.html#ae07ec959bb94342644f72cc4494f76e8">db_timestamp_usec_t</a> *dest, const <a class="el" href="a00407.html">db_timestamp_t</a> *src)</td></tr>
<tr class="memdesc:ga8a5c02de28969593c010394266be8c1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert timestamp data structure to microseconds timestamp.  <a href="a00345.html#ga8a5c02de28969593c010394266be8c1c">More...</a><br /></td></tr>
<tr class="separator:ga8a5c02de28969593c010394266be8c1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7eb23d385412f81cf7cdc7455b69c096"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00345.html#ga7eb23d385412f81cf7cdc7455b69c096">db_timestamp_from_usec</a> (<a class="el" href="a00407.html">db_timestamp_t</a> *dest, <a class="el" href="a00038.html#ae07ec959bb94342644f72cc4494f76e8">db_timestamp_usec_t</a> src)</td></tr>
<tr class="memdesc:ga7eb23d385412f81cf7cdc7455b69c096"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert microseconds timestamp to timestamp data structure.  <a href="a00345.html#ga7eb23d385412f81cf7cdc7455b69c096">More...</a><br /></td></tr>
<tr class="separator:ga7eb23d385412f81cf7cdc7455b69c096"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2d033f2c7bae105523ec6db23c4eceaf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00358.html#ga60c62c1f54e8feef2bf7f6d5d17978c1">dbstatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00345.html#ga2d033f2c7bae105523ec6db23c4eceaf">db_open_time_series</a> (<a class="el" href="a00345.html#gac3c6d3e764716ca7054301040998e306">db_time_series_t</a> *handle, <a class="el" href="a00341.html#gaa4076d7d43ef1915336e6b43044ce8a5">db_t</a> db, const <a class="el" href="a00344.html#gab5f6cd5ae2b07d3711a5f162f5015012">db_ansi_t</a> *name, <a class="el" href="a00344.html#ga696c1ecfa2b6ed573623bb1131cbf220">db_coltype_t</a> type)</td></tr>
<tr class="memdesc:ga2d033f2c7bae105523ec6db23c4eceaf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open a named series of timestamp/value pairs.  <a href="a00345.html#ga2d033f2c7bae105523ec6db23c4eceaf">More...</a><br /></td></tr>
<tr class="separator:ga2d033f2c7bae105523ec6db23c4eceaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf063cc437fc3d409e68627a4c2055c76"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00358.html#ga60c62c1f54e8feef2bf7f6d5d17978c1">dbstatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00345.html#gaf063cc437fc3d409e68627a4c2055c76">db_close_time_series</a> (<a class="el" href="a00345.html#gac3c6d3e764716ca7054301040998e306">db_time_series_t</a> handle)</td></tr>
<tr class="memdesc:gaf063cc437fc3d409e68627a4c2055c76"><td class="mdescLeft">&#160;</td><td class="mdescRight">Invalidate a time series handle and release associated resources.  <a href="a00345.html#gaf063cc437fc3d409e68627a4c2055c76">More...</a><br /></td></tr>
<tr class="separator:gaf063cc437fc3d409e68627a4c2055c76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga73c19c874a44c00b9ab581485d465928"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00358.html#ga60c62c1f54e8feef2bf7f6d5d17978c1">dbstatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00345.html#ga73c19c874a44c00b9ab581485d465928">db_time_series_put_float32</a> (<a class="el" href="a00345.html#gac3c6d3e764716ca7054301040998e306">db_time_series_t</a> handle, <a class="el" href="a00038.html#ae07ec959bb94342644f72cc4494f76e8">db_timestamp_usec_t</a> usec, <a class="el" href="a00344.html#ga0ad504e8f14aaa43cc4f8749929c01d0">db_float32_t</a> value)</td></tr>
<tr class="memdesc:ga73c19c874a44c00b9ab581485d465928"><td class="mdescLeft">&#160;</td><td class="mdescRight">Put a timestamp/value pair into a time series.  <a href="a00345.html#ga73c19c874a44c00b9ab581485d465928">More...</a><br /></td></tr>
<tr class="separator:ga73c19c874a44c00b9ab581485d465928"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadd7a0156a7a260de2b82d3499798f223"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00358.html#ga60c62c1f54e8feef2bf7f6d5d17978c1">dbstatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00345.html#gadd7a0156a7a260de2b82d3499798f223">db_time_series_remove_before</a> (<a class="el" href="a00341.html#gaa4076d7d43ef1915336e6b43044ce8a5">db_t</a> handle, <a class="el" href="a00038.html#ae07ec959bb94342644f72cc4494f76e8">db_timestamp_usec_t</a> usec)</td></tr>
<tr class="memdesc:gadd7a0156a7a260de2b82d3499798f223"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove the oldest time series data from a database.  <a href="a00345.html#gadd7a0156a7a260de2b82d3499798f223">More...</a><br /></td></tr>
<tr class="separator:gadd7a0156a7a260de2b82d3499798f223"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab709e135afa1494b4a449c56c8295994"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00358.html#ga60c62c1f54e8feef2bf7f6d5d17978c1">dbstatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00345.html#gab709e135afa1494b4a449c56c8295994">db_query_time_series_range_float32</a> (<a class="el" href="a00345.html#gac3c6d3e764716ca7054301040998e306">db_time_series_t</a> handle, <a class="el" href="a00038.html#ae07ec959bb94342644f72cc4494f76e8">db_timestamp_usec_t</a> begin_time, <a class="el" href="a00038.html#ae07ec959bb94342644f72cc4494f76e8">db_timestamp_usec_t</a> end_time, <a class="el" href="a00038.html#ae07ec959bb94342644f72cc4494f76e8">db_timestamp_usec_t</a> timestamp_dest[], <a class="el" href="a00344.html#ga0ad504e8f14aaa43cc4f8749929c01d0">db_float32_t</a> value_dest[], <a class="el" href="a00344.html#ga664a9e260f9bd4cda07034dd5826e688">db_len_t</a> max_read, <a class="el" href="a00038.html#ae07ec959bb94342644f72cc4494f76e8">db_timestamp_usec_t</a> *next_begin_time)</td></tr>
<tr class="memdesc:gab709e135afa1494b4a449c56c8295994"><td class="mdescLeft">&#160;</td><td class="mdescRight">Query a time range in a single time series.  <a href="a00345.html#gab709e135afa1494b4a449c56c8295994">More...</a><br /></td></tr>
<tr class="separator:gab709e135afa1494b4a449c56c8295994"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga799e5bf3d1eb90e1009f5ac4e5387787"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00358.html#ga60c62c1f54e8feef2bf7f6d5d17978c1">dbstatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00345.html#ga799e5bf3d1eb90e1009f5ac4e5387787">db_prepare_time_series_query</a> (<a class="el" href="a00345.html#gad485c55a1d69e991ec6292c650158e56">db_time_series_query_t</a> *handle, <a class="el" href="a00341.html#gaa4076d7d43ef1915336e6b43044ce8a5">db_t</a> db, const char *series_name_list[], <a class="el" href="a00344.html#ga664a9e260f9bd4cda07034dd5826e688">db_len_t</a> series_count, <a class="el" href="a00038.html#ae07ec959bb94342644f72cc4494f76e8">db_timestamp_usec_t</a> *begin_time, <a class="el" href="a00038.html#ae07ec959bb94342644f72cc4494f76e8">db_timestamp_usec_t</a> *end_time, <a class="el" href="a00038.html#a7e299ba55b2426b18d06a350eba7061a">db_flags_t</a> flags)</td></tr>
<tr class="memdesc:ga799e5bf3d1eb90e1009f5ac4e5387787"><td class="mdescLeft">&#160;</td><td class="mdescRight">Query a time range in any number of time series.  <a href="a00345.html#ga799e5bf3d1eb90e1009f5ac4e5387787">More...</a><br /></td></tr>
<tr class="separator:ga799e5bf3d1eb90e1009f5ac4e5387787"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabc6a755edbcac57bc3bde17ab16038b3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00358.html#ga60c62c1f54e8feef2bf7f6d5d17978c1">dbstatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00345.html#gabc6a755edbcac57bc3bde17ab16038b3">db_count_timestamps</a> (<a class="el" href="a00345.html#gad485c55a1d69e991ec6292c650158e56">db_time_series_query_t</a> handle, int32_t *read_timestamp_count, int32_t *total_timestamp_estimate)</td></tr>
<tr class="memdesc:gabc6a755edbcac57bc3bde17ab16038b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Count distinct timestamps in a time series query.  <a href="a00345.html#gabc6a755edbcac57bc3bde17ab16038b3">More...</a><br /></td></tr>
<tr class="separator:gabc6a755edbcac57bc3bde17ab16038b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae4f2e816ac7dc67dc2144a5d9a629586"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00358.html#ga60c62c1f54e8feef2bf7f6d5d17978c1">dbstatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00345.html#gae4f2e816ac7dc67dc2144a5d9a629586">db_close_time_series_query</a> (<a class="el" href="a00345.html#gad485c55a1d69e991ec6292c650158e56">db_time_series_query_t</a> handle)</td></tr>
<tr class="memdesc:gae4f2e816ac7dc67dc2144a5d9a629586"><td class="mdescLeft">&#160;</td><td class="mdescRight">Invalidate a time series query handle and release associated resources.  <a href="a00345.html#gae4f2e816ac7dc67dc2144a5d9a629586">More...</a><br /></td></tr>
<tr class="separator:gae4f2e816ac7dc67dc2144a5d9a629586"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacd6676d3d9cd44046b645ef30e040210"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00345.html#gacd6676d3d9cd44046b645ef30e040210">db_get_time_series_name</a> (<a class="el" href="a00345.html#gad485c55a1d69e991ec6292c650158e56">db_time_series_query_t</a> handle, <a class="el" href="a00344.html#gaa677faab60636d4fb723d01f8e786551">db_fieldno_t</a> fieldno)</td></tr>
<tr class="memdesc:gacd6676d3d9cd44046b645ef30e040210"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the name of a time series in a query results.  <a href="a00345.html#gacd6676d3d9cd44046b645ef30e040210">More...</a><br /></td></tr>
<tr class="separator:gacd6676d3d9cd44046b645ef30e040210"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga931d51e6cff64c8b8ce71b053a9e4b0e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00358.html#ga60c62c1f54e8feef2bf7f6d5d17978c1">dbstatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00345.html#ga931d51e6cff64c8b8ce71b053a9e4b0e">db_fetch_next_timestamp_float32</a> (<a class="el" href="a00345.html#gad485c55a1d69e991ec6292c650158e56">db_time_series_query_t</a> handle, <a class="el" href="a00038.html#ae07ec959bb94342644f72cc4494f76e8">db_timestamp_usec_t</a> *timestamp, <a class="el" href="a00344.html#gaa677faab60636d4fb723d01f8e786551">db_fieldno_t</a> fieldno_list[], <a class="el" href="a00344.html#ga0ad504e8f14aaa43cc4f8749929c01d0">db_float32_t</a> value_list[], <a class="el" href="a00344.html#ga664a9e260f9bd4cda07034dd5826e688">db_len_t</a> list_size)</td></tr>
<tr class="memdesc:ga931d51e6cff64c8b8ce71b053a9e4b0e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetch values for the next timestamp in a query results.  <a href="a00345.html#ga931d51e6cff64c8b8ce71b053a9e4b0e">More...</a><br /></td></tr>
<tr class="separator:ga931d51e6cff64c8b8ce71b053a9e4b0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>ITTIA DB provides a timestamp data type for annotating time dependent values or sensor readings to create a time series data type. </p>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="gac3c6d3e764716ca7054301040998e306"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac3c6d3e764716ca7054301040998e306">&#9670;&nbsp;</a></span>db_time_series_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct db_time_series_t_s* <a class="el" href="a00345.html#gac3c6d3e764716ca7054301040998e306">db_time_series_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Time series handle. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="a00345.html" title="ITTIA DB provides a timestamp data type for annotating time dependent values or sensor readings to cr...">Time Series</a> </dd></dl>

</div>
</div>
<a id="gad485c55a1d69e991ec6292c650158e56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad485c55a1d69e991ec6292c650158e56">&#9670;&nbsp;</a></span>db_time_series_query_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct db_time_series_query_t_s* <a class="el" href="a00345.html#gad485c55a1d69e991ec6292c650158e56">db_time_series_query_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Time series query handle. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="a00345.html" title="ITTIA DB provides a timestamp data type for annotating time dependent values or sensor readings to cr...">Time Series</a> </dd></dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gab6ab92bf4adeee7d7067f92e0eda6f87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab6ab92bf4adeee7d7067f92e0eda6f87">&#9670;&nbsp;</a></span>db_set_max_timestamps()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00358.html#ga60c62c1f54e8feef2bf7f6d5d17978c1">dbstatus_t</a> db_set_max_timestamps </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00341.html#gaa4076d7d43ef1915336e6b43044ce8a5">db_t</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>max_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>pages_per_remove</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>db_set_max_timestamps defines the maxmimum number of timestamps to store before ingesting into storage. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>Handle to an ITTIA DB database connection </td></tr>
    <tr><td class="paramname">max_count</td><td>Defines the ingestion amount, or the total number of timestamps queued for ingestion </td></tr>
    <tr><td class="paramname">pages_per_remove</td><td>Number of pages to remove each ingestion </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>DB_NOERROR on success, negative number on failure </dd></dl>

</div>
</div>
<a id="ga24fd766f242b3953239cc208ab7c75ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga24fd766f242b3953239cc208ab7c75ba">&#9670;&nbsp;</a></span>db_set_time_series_data_retention()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00358.html#ga60c62c1f54e8feef2bf7f6d5d17978c1">dbstatus_t</a> db_set_time_series_data_retention </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00341.html#gaa4076d7d43ef1915336e6b43044ce8a5">db_t</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>retain_data_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>max_data_bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set data retention policy for time series data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>Handle to an ITTIA DB database connection </td></tr>
    <tr><td class="paramname">retain_data_bytes</td><td>Number of bytes of time series data to retain </td></tr>
    <tr><td class="paramname">max_data_bytes</td><td>Maximum number of bytes to allocate for time series data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>DB_NOERROR on success, negative number on failure</dd></dl>
<p>After calling this function, time series data will automatically wrap around and replace the oldest timestamps when putting new data. The current data retention policy is persisted.</p>
<p>When the size of time series data approaches <em>max_data_bytes</em>, data for the oldest timestamps is automatically removed from time series storage. The database will never shrink below <em>retain_data_bytes</em> of time series data when old data is removed automatically.</p>
<p>Wrap around performance is influenced by the difference between <em>max_data_bytes</em> and <em>retain_data_bytes</em>. <em>max_data_bytes</em> must be at least one database page larger than <em>retain_data_bytes</em>. </p>

</div>
</div>
<a id="ga8a5c02de28969593c010394266be8c1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8a5c02de28969593c010394266be8c1c">&#9670;&nbsp;</a></span>db_timestamp_to_usec()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void db_timestamp_to_usec </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00038.html#ae07ec959bb94342644f72cc4494f76e8">db_timestamp_usec_t</a> *&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00407.html">db_timestamp_t</a> *&#160;</td>
          <td class="paramname"><em>src</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert timestamp data structure to microseconds timestamp. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">dest</td><td>Timestamp in microseconds since epoch </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">src</td><td>Timestamp as a data structure </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga7eb23d385412f81cf7cdc7455b69c096"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7eb23d385412f81cf7cdc7455b69c096">&#9670;&nbsp;</a></span>db_timestamp_from_usec()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void db_timestamp_from_usec </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00407.html">db_timestamp_t</a> *&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00038.html#ae07ec959bb94342644f72cc4494f76e8">db_timestamp_usec_t</a>&#160;</td>
          <td class="paramname"><em>src</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert microseconds timestamp to timestamp data structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">dest</td><td>Timestamp as a data structure </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">src</td><td>Timestamp in microseconds since epoch </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga2d033f2c7bae105523ec6db23c4eceaf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2d033f2c7bae105523ec6db23c4eceaf">&#9670;&nbsp;</a></span>db_open_time_series()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00358.html#ga60c62c1f54e8feef2bf7f6d5d17978c1">dbstatus_t</a> db_open_time_series </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00345.html#gac3c6d3e764716ca7054301040998e306">db_time_series_t</a> *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00341.html#gaa4076d7d43ef1915336e6b43044ce8a5">db_t</a>&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00344.html#gab5f6cd5ae2b07d3711a5f162f5015012">db_ansi_t</a> *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00344.html#ga696c1ecfa2b6ed573623bb1131cbf220">db_coltype_t</a>&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open a named series of timestamp/value pairs. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">handle</td><td>Reference to the time series </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">db</td><td>Handle to an ITTIA DB database connection </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">name</td><td>Name of the time series </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">type</td><td>Type of data to store in the time series </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>DB_NOERROR when successful, negative number on failure</dd></dl>
<p>The time series is uniquely identified in the database by its name. A new time series is added to the database if one does not already exist with the given name.</p>
<p>After the time series is opened successfully, a handle is allocated and assigned as output. Pass this handle to other functions that need to operate on the time series. When access to the time series is no longer needed, call db_close_time_series to release the handle. </p>

</div>
</div>
<a id="gaf063cc437fc3d409e68627a4c2055c76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf063cc437fc3d409e68627a4c2055c76">&#9670;&nbsp;</a></span>db_close_time_series()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00358.html#ga60c62c1f54e8feef2bf7f6d5d17978c1">dbstatus_t</a> db_close_time_series </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00345.html#gac3c6d3e764716ca7054301040998e306">db_time_series_t</a>&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Invalidate a time series handle and release associated resources. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>Reference to the time series </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>DB_NOERROR when successful, negative number on failure</dd></dl>
<p>A limited number of time series can be open at once. A time series handle must be closed with when it is no longer needed.</p>
<p>The handle is invalidated and must not be used after calling this function. </p>

</div>
</div>
<a id="ga73c19c874a44c00b9ab581485d465928"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga73c19c874a44c00b9ab581485d465928">&#9670;&nbsp;</a></span>db_time_series_put_float32()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00358.html#ga60c62c1f54e8feef2bf7f6d5d17978c1">dbstatus_t</a> db_time_series_put_float32 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00345.html#gac3c6d3e764716ca7054301040998e306">db_time_series_t</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00038.html#ae07ec959bb94342644f72cc4494f76e8">db_timestamp_usec_t</a>&#160;</td>
          <td class="paramname"><em>usec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00344.html#ga0ad504e8f14aaa43cc4f8749929c01d0">db_float32_t</a>&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Put a timestamp/value pair into a time series. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>Reference to the time series </td></tr>
    <tr><td class="paramname">usec</td><td>Microseconds timestamp </td></tr>
    <tr><td class="paramname">value</td><td>Value data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>DB_NOERROR when successful, negative number on failure</dd></dl>
<p>If a value already exists in the series at the given timestamp, it is replaced. </p>

</div>
</div>
<a id="gadd7a0156a7a260de2b82d3499798f223"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadd7a0156a7a260de2b82d3499798f223">&#9670;&nbsp;</a></span>db_time_series_remove_before()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00358.html#ga60c62c1f54e8feef2bf7f6d5d17978c1">dbstatus_t</a> db_time_series_remove_before </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00341.html#gaa4076d7d43ef1915336e6b43044ce8a5">db_t</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00038.html#ae07ec959bb94342644f72cc4494f76e8">db_timestamp_usec_t</a>&#160;</td>
          <td class="paramname"><em>usec</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove the oldest time series data from a database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>Handle to an ITTIA DB database connection </td></tr>
    <tr><td class="paramname">usec</td><td>Lowest timestamp to keep </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>DB_NOERROR when successful, negative number on failure</dd></dl>
<p>Remove all timestamp/value pairs strictly older than <em>usec</em>. Any values stored at precisely <em>usec</em> are not removed. </p>

</div>
</div>
<a id="gab709e135afa1494b4a449c56c8295994"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab709e135afa1494b4a449c56c8295994">&#9670;&nbsp;</a></span>db_query_time_series_range_float32()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00358.html#ga60c62c1f54e8feef2bf7f6d5d17978c1">dbstatus_t</a> db_query_time_series_range_float32 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00345.html#gac3c6d3e764716ca7054301040998e306">db_time_series_t</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00038.html#ae07ec959bb94342644f72cc4494f76e8">db_timestamp_usec_t</a>&#160;</td>
          <td class="paramname"><em>begin_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00038.html#ae07ec959bb94342644f72cc4494f76e8">db_timestamp_usec_t</a>&#160;</td>
          <td class="paramname"><em>end_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00038.html#ae07ec959bb94342644f72cc4494f76e8">db_timestamp_usec_t</a>&#160;</td>
          <td class="paramname"><em>timestamp_dest</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00344.html#ga0ad504e8f14aaa43cc4f8749929c01d0">db_float32_t</a>&#160;</td>
          <td class="paramname"><em>value_dest</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00344.html#ga664a9e260f9bd4cda07034dd5826e688">db_len_t</a>&#160;</td>
          <td class="paramname"><em>max_read</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00038.html#ae07ec959bb94342644f72cc4494f76e8">db_timestamp_usec_t</a> *&#160;</td>
          <td class="paramname"><em>next_begin_time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Query a time range in a single time series. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">handle</td><td>Reference to a prepared time series query </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">begin_time</td><td>Start timestamp, inclusive </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">end_time</td><td>End timestamp, exclusive </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">timestamp_dest</td><td>Destination for timestamp data </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">value_dest</td><td>Destination for value data </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">max_read</td><td>Maximum number of timestamp/value pairs to read at once </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">next_begin_time</td><td>Start timestamp for next batch, if successful </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of timestamp/value pairs read when successful, negative number on failure</dd></dl>
<p>Reads up to <em>max_read</em> timestamp/value pairs from the series into the arrays <em>timestamp_dest</em> and <em>value_dest</em>. Timestamps and values are sorted in ascending order by time.</p>
<p>If successful, the number of values read is returned and <em>next_begin_time</em> is assigned a value that is greater than any returned timestamp, but less than or equal to <em>end_time</em>. In the next call to this function, replace the <em>begin_time</em> argument with *next_begin_time from the previous call to and repeat until a number less than <em>max_read</em> is returned. This will read all timestamp/value pairs in the original time range.</p>
<p>Pairs are read greater or equal to the <em>begin_time</em> and strictly less than the <em>end_time</em>. If no timestamp/value pairs exist in that interval, 0 is returned. </p>

</div>
</div>
<a id="ga799e5bf3d1eb90e1009f5ac4e5387787"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga799e5bf3d1eb90e1009f5ac4e5387787">&#9670;&nbsp;</a></span>db_prepare_time_series_query()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00358.html#ga60c62c1f54e8feef2bf7f6d5d17978c1">dbstatus_t</a> db_prepare_time_series_query </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00345.html#gad485c55a1d69e991ec6292c650158e56">db_time_series_query_t</a> *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00341.html#gaa4076d7d43ef1915336e6b43044ce8a5">db_t</a>&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>series_name_list</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00344.html#ga664a9e260f9bd4cda07034dd5826e688">db_len_t</a>&#160;</td>
          <td class="paramname"><em>series_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00038.html#ae07ec959bb94342644f72cc4494f76e8">db_timestamp_usec_t</a> *&#160;</td>
          <td class="paramname"><em>begin_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00038.html#ae07ec959bb94342644f72cc4494f76e8">db_timestamp_usec_t</a> *&#160;</td>
          <td class="paramname"><em>end_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00038.html#a7e299ba55b2426b18d06a350eba7061a">db_flags_t</a>&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Query a time range in any number of time series. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">handle</td><td>Reference to query state </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">db</td><td>Handle to an ITTIA DB database connection </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">series_name_list</td><td>(optional) Array of series names to include in query result </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">series_count</td><td>Number of names in <em>series_name_list</em> </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">begin_time</td><td>(optional) Start timestamp, inclusive </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">end_time</td><td>(optional) End timestamp, exclusive </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">flags</td><td>Query flags </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The actual number of time series in the query result, or a negative number on failure</dd></dl>
<p>If <em>series_name_list</em> is NULL, the query result will include all time series with values in the given time range.</p>
<p>If <em>begin_time</em> or <em>end_time</em> is NULL, the query result will not have a lower or upper bound, respectively.</p>
<p>Query flags accepted:</p>
<ul>
<li>DB_QUERY_OLDEST_TO_NEWEST: sort results from oldest to newest timestamp</li>
<li>DB_QUERY_NEWEST_TO_OLDEST: sort results from newest to oldest timestamp</li>
</ul>
<p>After the query is prepared successfully, a handle is allocated and assigned as output. Pass this handle to other functions that need to operate on the time series. When access to the time series is no longer needed, call db_close_time_series_query to release the handle. </p>

</div>
</div>
<a id="gabc6a755edbcac57bc3bde17ab16038b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabc6a755edbcac57bc3bde17ab16038b3">&#9670;&nbsp;</a></span>db_count_timestamps()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00358.html#ga60c62c1f54e8feef2bf7f6d5d17978c1">dbstatus_t</a> db_count_timestamps </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00345.html#gad485c55a1d69e991ec6292c650158e56">db_time_series_query_t</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t *&#160;</td>
          <td class="paramname"><em>read_timestamp_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t *&#160;</td>
          <td class="paramname"><em>total_timestamp_estimate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Count distinct timestamps in a time series query. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">handle</td><td>Reference to a prepared time series query </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">read_timestamp_count</td><td>Number of distinct timestamps read from the query so far. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">total_timestamp_estimate</td><td>Estimate of the total number of distinct timestamps in the query </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Negative number on failure</dd></dl>
<p>Immediately after preparing a query, the <em>read_timestamp_count</em> starts at zero, then increments each time db_fetch_next_timestamp_float32 returns with a different timestamp. If <em>read_timestamp_count</em> is NULL, the count is not assigned.</p>
<p>The <em>total_timestamp_estimate</em> is assigned the approximate number of distinct timestamp values in the time range specified when the query was prepared. The accuracy of the estimate will generally improve after part of the query has been read, and will be equal to <em>read_timestamp_count</em> after the entire query result has been read.</p>
<p>If <em>total_timestamp_estimate</em> is null NULL, the estimate is not calculated or assigned. Calculating the estimate is comparable in cost to db_fetch_next_timestamp_float32. </p>

</div>
</div>
<a id="gae4f2e816ac7dc67dc2144a5d9a629586"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae4f2e816ac7dc67dc2144a5d9a629586">&#9670;&nbsp;</a></span>db_close_time_series_query()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00358.html#ga60c62c1f54e8feef2bf7f6d5d17978c1">dbstatus_t</a> db_close_time_series_query </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00345.html#gad485c55a1d69e991ec6292c650158e56">db_time_series_query_t</a>&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Invalidate a time series query handle and release associated resources. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>Reference to a prepared time series query </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Negative number on failure</dd></dl>
<p>A limited number of time series queries can be open at once. A time series query handle must be closed with when it is no longer needed.</p>
<p>The handle is invalidated and must not be used after calling this function. </p>

</div>
</div>
<a id="gacd6676d3d9cd44046b645ef30e040210"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacd6676d3d9cd44046b645ef30e040210">&#9670;&nbsp;</a></span>db_get_time_series_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* db_get_time_series_name </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00345.html#gad485c55a1d69e991ec6292c650158e56">db_time_series_query_t</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00344.html#gaa677faab60636d4fb723d01f8e786551">db_fieldno_t</a>&#160;</td>
          <td class="paramname"><em>fieldno</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the name of a time series in a query results. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>Reference to a prepared time series query </td></tr>
    <tr><td class="paramname">fieldno</td><td>Query column number </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Name of the time series in the specified column</dd></dl>
<p>The <em>fieldno</em> must be strictly less than the number of series in the query, returned by db_prepare_time_series_query.</p>
<p>The pointer returned by `db_get_time_series_name` is only valid until the next use of the same database connection. Either call this function each time the name of a time series is needed, or copy the string data before calling this function again. </p>

</div>
</div>
<a id="ga931d51e6cff64c8b8ce71b053a9e4b0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga931d51e6cff64c8b8ce71b053a9e4b0e">&#9670;&nbsp;</a></span>db_fetch_next_timestamp_float32()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00358.html#ga60c62c1f54e8feef2bf7f6d5d17978c1">dbstatus_t</a> db_fetch_next_timestamp_float32 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00345.html#gad485c55a1d69e991ec6292c650158e56">db_time_series_query_t</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00038.html#ae07ec959bb94342644f72cc4494f76e8">db_timestamp_usec_t</a> *&#160;</td>
          <td class="paramname"><em>timestamp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00344.html#gaa677faab60636d4fb723d01f8e786551">db_fieldno_t</a>&#160;</td>
          <td class="paramname"><em>fieldno_list</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00344.html#ga0ad504e8f14aaa43cc4f8749929c01d0">db_float32_t</a>&#160;</td>
          <td class="paramname"><em>value_list</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00344.html#ga664a9e260f9bd4cda07034dd5826e688">db_len_t</a>&#160;</td>
          <td class="paramname"><em>list_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fetch values for the next timestamp in a query results. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">handle</td><td>Reference to a prepared time series query </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">timestamp</td><td>Destination for timestamp </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">fieldno_list</td><td>Array of field numbers </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">value_list</td><td>Array of values </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">list_size</td><td>Size of <em>field_list</em> and <em>value_list</em> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of fieldno/value pairs read, or a negative number on failure</dd></dl>
<p>Reads data for the next timestamp in the query result. Call this function repeatedly to read all query results.</p>
<p>The next timestamp is assigned to <em>timestamp</em>. An array of fieldno and value pairs are assigned to <em>fieldno_list</em> and <em>value_list</em>. If a time series does not have a value at the timestamp, it is not included in these lists. The lists are sorted in fieldno order.</p>
<p>This function reads up to <em>list_size</em> values for the next timestamp. If more values are available, the next call to this function will continue to read from the same timestamp. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.15-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Copyright &copy; 2005-2020 ITTIA&trade;. All rights reserved.</li>
  </ul>
</div>
</body>
</html>
